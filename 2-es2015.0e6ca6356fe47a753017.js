(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"1kSV":function(t,e,n){"use strict";n.d(e,"a",function(){return tt}),n.d(e,"b",function(){return et});var i=n("fXoL"),o=n("ofXK"),s=n("HDdC"),r=n("EY2u"),a=n("LRne"),c=n("XNiG"),h=n("xgIS"),p=n("PqYM"),l=n("DH7j"),u=n("yCtX"),d=n("l7GE"),f=n("ZUHj");function b(...t){if(1===t.length){if(!Object(l.a)(t[0]))return t[0];t=t[0]}return Object(u.a)(t,void 0).lift(new w)}class w{call(t,e){return e.subscribe(new g(t))}}class g extends d.a{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){const e=t[n],i=Object(f.a)(this,e,void 0,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}}notifyNext(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}n("2Vo4"),n("itXk"),n("KqfI"),n("7o/Q"),n("Lhse"),n("zx2A");var m=n("VRyK"),v=n("GyhO"),y=n("1G5W"),S=n("pLZG"),O=n("IzEk"),_=n("lJxs"),R=(n("JX91"),n("/uUt"),n("eIep"),n("vkgz"));class j{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new x(t,this.observables,this.project))}}class x extends d.a{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const i=e.length;this.values=new Array(i);for(let o=0;o<i;o++)this.toRespond.push(o);for(let o=0;o<i;o++){let t=e[o];this.add(Object(f.a)(this,t,void 0,o))}}notifyNext(t,e,n){this.values[n]=e;const i=this.toRespond;if(i.length>0){const t=i.indexOf(n);-1!==t&&i.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var E=n("3E0/"),C=n("5+tZ"),P=n("w1tV");n("cp0P"),n("Cfvw");const D=["*"];function A(t,e){if(1&t&&i.Dc(0),2&t){const t=i.hc(2);i.Ec(t.title)}}function T(t,e){}function $(t,e){if(1&t&&(i.Tb(0,"h3",3),i.Bc(1,A,1,1,"ng-template",null,4,i.Cc),i.Bc(3,T,0,0,"ng-template",5),i.Sb()),2&t){const t=i.uc(2),e=i.hc();i.Bb(3),i.mc("ngTemplateOutlet",e.isTitleTemplate()?e.title:t)("ngTemplateOutletContext",e.context)}}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const k={animation:!0,transitionTimerDelayMs:5};let N=(()=>{class t{constructor(){this.animation=k.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const F=()=>{},{transitionTimerDelayMs:H}=k,M=new Map,L=(t,e,n,i)=>{let o=i.context||{};const l=M.get(e);if(l)switch(i.runningTransition){case"continue":return r.a;case"stop":t.run(()=>l.transition$.complete()),o=Object.assign(l.context,o),M.delete(e)}const u=n(e,i.animation,o)||F;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>u()),Object(a.a)(void 0).pipe(function(t){return e=>new s.a(n=>e.subscribe(e=>t.run(()=>n.next(e)),e=>t.run(()=>n.error(e)),()=>t.run(()=>n.complete())))}(t));const d=new c.a,f=new c.a,w=d.pipe(function(...t){return e=>Object(v.a)(e,Object(a.a)(...t))}(!0));M.set(e,{transition$:d,complete:()=>{f.next(),f.complete()},context:o});const g=function(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const n=Object(h.a)(e,"transitionend").pipe(Object(y.a)(w),Object(S.a)(({target:t})=>t===e));b(Object(p.a)(g+H).pipe(Object(y.a)(w)),n,f).pipe(Object(y.a)(w)).subscribe(()=>{M.delete(e),t.run(()=>{u(),d.next(),d.complete()})})}),d.asObservable()};var I=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});const K=(t,e)=>!!e&&e.some(e=>e.contains(t)),U=(t,e)=>!e||null!=function(t,e){return e?void 0===t.closest?null:t.closest(e):null}(t,e),W="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");const B=/\s+/,V=new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let n,i={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const e=this.offsetParent(t);n=this.offset(t,!1),e!==document.documentElement&&(i=this.offset(e,!1)),i.top+=e.clientTop,i.left+=e.clientLeft}return n.top-=i.top,n.bottom-=i.top,n.left-=i.left,n.right-=i.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(t,e=!0){const n=t.getBoundingClientRect(),i=window.pageYOffset-document.documentElement.clientTop,o=window.pageXOffset-document.documentElement.clientLeft;let s={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+i,bottom:n.bottom+i,left:n.left+o,right:n.right+o};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}positionElements(t,e,n,i){const[o="top",s="center"]=n.split("-"),r=i?this.offset(t,!1):this.position(t,!1),a=this.getAllStyles(e),c=parseFloat(a.marginTop),h=parseFloat(a.marginBottom),p=parseFloat(a.marginLeft),l=parseFloat(a.marginRight);let u=0,d=0;switch(o){case"top":u=r.top-(e.offsetHeight+c+h);break;case"bottom":u=r.top+r.height;break;case"left":d=r.left-(e.offsetWidth+p+l);break;case"right":d=r.left+r.width}switch(s){case"top":u=r.top;break;case"bottom":u=r.top+r.height-e.offsetHeight;break;case"left":d=r.left;break;case"right":d=r.left+r.width-e.offsetWidth;break;case"center":"top"===o||"bottom"===o?d=r.left+r.width/2-e.offsetWidth/2:u=r.top+r.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(d)}px, ${Math.round(u)}px)`;const f=e.getBoundingClientRect(),b=document.documentElement,w=window.innerHeight||b.clientHeight,g=window.innerWidth||b.clientWidth;return f.left>=0&&f.top>=0&&f.right<=g&&f.bottom<=w}};new Date(1882,10,12),new Date(2174,10,25);class X{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}class z{constructor(t,e,n,i,o,s,r){this._type=t,this._injector=e,this._viewContainerRef=n,this._renderer=i,this._ngZone=o,this._componentFactoryResolver=s,this._applicationRef=r,this._windowRef=null,this._contentRef=null}open(t,e,n=!1){this._windowRef||(this._contentRef=this._getContentRef(t,e),this._windowRef=this._viewContainerRef.createComponent(this._componentFactoryResolver.resolveComponentFactory(this._type),this._viewContainerRef.length,this._injector,this._contentRef.nodes));const{nativeElement:i}=this._windowRef.location,o=this._ngZone.onStable.pipe(Object(O.a)(1),Object(C.a)(()=>L(this._ngZone,i,({classList:t})=>t.add("show"),{animation:n,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:o}}close(t=!1){return this._windowRef?L(this._ngZone,this._windowRef.location.nativeElement,({classList:t})=>t.remove("show"),{animation:t,runningTransition:"stop"}).pipe(Object(R.a)(()=>{var t;this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),(null===(t=this._contentRef)||void 0===t?void 0:t.viewRef)&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):Object(a.a)(void 0)}_getContentRef(t,e){if(t){if(t instanceof i.M){const n=t.createEmbeddedView(e);return this._applicationRef.attachView(n),new X([n.rootNodes],n)}return new X([[this._renderer.createText(`${t}`)]])}return new X([])}}class Z{constructor(t,e){this.open=t,this.close=e,e||(this.close=t)}isManual(){return"manual"===this.open||"manual"===this.close}}const J={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},q=t=>t>0?Object(E.a)(t):t=>t;let G=(()=>{class t{constructor(t){this._ngbConfig=t,this.autoClose=!0,this.placement="auto",this.triggers="click",this.disablePopover=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(i.ac(N))},t.\u0275prov=Object(i.Jb)({factory:function(){return new t(Object(i.ac)(N))},token:t,providedIn:"root"}),t})(),Q=0,Y=(()=>{class t{isTitleTemplate(){return this.title instanceof i.M}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Hb({type:t,selectors:[["ngb-popover-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(t,e){2&t&&(i.Wb("id",e.id),i.Db("popover"+(e.popoverClass?" "+e.popoverClass:"")),i.Fb("fade",e.animation))},inputs:{animation:"animation",title:"title",id:"id",popoverClass:"popoverClass",context:"context"},ngContentSelectors:D,decls:4,vars:1,consts:[[1,"arrow"],["class","popover-header",4,"ngIf"],[1,"popover-body"],[1,"popover-header"],["simpleTitle",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(i.lc(),i.Ob(0,"div",0),i.Bc(1,$,4,2,"h3",1),i.Tb(2,"div",2),i.kc(3),i.Sb()),2&t&&(i.Bb(1),i.mc("ngIf",e.title))},directives:[o.k,o.m],styles:["ngb-popover-window.bs-popover-bottom>.arrow,ngb-popover-window.bs-popover-top>.arrow{left:50%;margin-left:-.5rem}ngb-popover-window.bs-popover-bottom-left>.arrow,ngb-popover-window.bs-popover-top-left>.arrow{left:2em}ngb-popover-window.bs-popover-bottom-right>.arrow,ngb-popover-window.bs-popover-top-right>.arrow{left:auto;right:2em}ngb-popover-window.bs-popover-left>.arrow,ngb-popover-window.bs-popover-right>.arrow{margin-top:-.5rem;top:50%}ngb-popover-window.bs-popover-left-top>.arrow,ngb-popover-window.bs-popover-right-top>.arrow{top:.7em}ngb-popover-window.bs-popover-left-bottom>.arrow,ngb-popover-window.bs-popover-right-bottom>.arrow{bottom:.7em;top:auto}"],encapsulation:2,changeDetection:0}),t})(),tt=(()=>{class t{constructor(t,e,n,o,s,r,a,c,h,p){this._elementRef=t,this._renderer=e,this._ngZone=a,this._document=c,this._changeDetector=h,this.shown=new i.n,this.hidden=new i.n,this._ngbPopoverWindowId="ngb-popover-"+Q++,this._windowRef=null,this.animation=r.animation,this.autoClose=r.autoClose,this.placement=r.placement,this.triggers=r.triggers,this.container=r.container,this.disablePopover=r.disablePopover,this.popoverClass=r.popoverClass,this.openDelay=r.openDelay,this.closeDelay=r.closeDelay,this._popupService=new z(Y,n,s,e,this._ngZone,o,p),this._zoneSubscription=a.onStable.subscribe(()=>{this._windowRef&&function(t,e,n,i,o){let s=Array.isArray(n)?n:n.split(B);const r=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],a=e.classList,c=t=>{const[e,n]=t.split("-"),i=[];return i.push(`bs-popover-${e}`),n&&i.push(`bs-popover-${e}-${n}`),i.forEach(t=>{a.add(t)}),i};r.forEach(t=>{a.remove(`bs-popover-${t}`)});let h=s.findIndex(t=>"auto"===t);h>=0&&r.forEach(function(t){null==s.find(e=>-1!==e.search("^"+t))&&s.splice(h++,1,t)});const p=e.style;p.position="absolute",p.top="0",p.left="0",p["will-change"]="transform";let l=null,u=!1;for(l of s){let n=c(l);if(V.positionElements(t,e,l,i)){u=!0;break}n.forEach(t=>{a.remove(t)})}u||(l=s[0],c(l),V.positionElements(t,e,l,i))}(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container)})}_isDisabled(){return!!this.disablePopover||!this.ngbPopover&&!this.popoverTitle}open(t){if(!this._windowRef&&!this._isDisabled()){const{windowRef:e,transition$:n}=this._popupService.open(this.ngbPopover,t,this.animation);this._windowRef=e,this._windowRef.instance.animation=this.animation,this._windowRef.instance.title=this.popoverTitle,this._windowRef.instance.context=t,this._windowRef.instance.popoverClass=this.popoverClass,this._windowRef.instance.id=this._ngbPopoverWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbPopoverWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),function(t,e,n,i,o,s,r,a){var c;n&&t.runOutsideAngular((c=()=>{const c=Object(h.a)(e,"keydown").pipe(Object(y.a)(o),Object(S.a)(t=>t.which===I.Escape),Object(R.a)(t=>t.preventDefault())),p=Object(h.a)(e,"mousedown").pipe(Object(_.a)(t=>{const e=t.target;return 2!==t.button&&!K(e,r)&&("inside"===n?K(e,s)&&U(e,a):"outside"===n?!K(e,s):U(e,a)||!K(e,s))}),Object(y.a)(o)),l=Object(h.a)(e,"mouseup").pipe(function(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new j(t,n))}}(p),Object(S.a)(([t,e])=>e),Object(E.a)(0),Object(y.a)(o));b([c.pipe(Object(_.a)(t=>0)),l.pipe(Object(_.a)(t=>1))]).subscribe(e=>t.run(()=>i(e)))},W?()=>setTimeout(()=>c(),100):c))}(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),n.subscribe(()=>this.shown.emit())}}close(){this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(this.animation).subscribe(()=>{this._windowRef=null,this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function(t,e,n,i,o,r,a=0,c=0){const h=function(t,e=J){const n=(t||"").trim();if(0===n.length)return[];const i=n.split(/\s+/).map(t=>t.split(":")).map(t=>{let n=e[t[0]]||t;return new Z(n[0],n[1])}),o=i.filter(t=>t.isManual());if(o.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===o.length&&i.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return i}(n);if(1===h.length&&h[0].isManual())return()=>{};const p=function(t,e,n,i){return new s.a(o=>{const s=[],r=()=>o.next(!0),a=()=>o.next(!1),c=()=>o.next(!i());return n.forEach(n=>{n.open===n.close?s.push(t.listen(e,n.open,c)):s.push(t.listen(e,n.open,r),t.listen(e,n.close,a))}),()=>{s.forEach(t=>t())}})}(t,e,h,i).pipe(function(t,e,n){return i=>{let o=null;const s=i.pipe(Object(_.a)(t=>({open:t})),Object(S.a)(t=>{const e=n();return e===t.open||o&&o.open!==e?(o&&o.open!==t.open&&(o=null),!1):(o=t,!0)}),Object(P.a)()),r=s.pipe(Object(S.a)(t=>t.open),q(t)),a=s.pipe(Object(S.a)(t=>!t.open),q(e));return Object(m.a)(r,a).pipe(Object(S.a)(t=>t===o&&(o=null,t.open!==n())),Object(_.a)(t=>t.open))}}(a,c,i)).subscribe(t=>t?o():r());return()=>p.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({ngbPopover:t,popoverTitle:e,disablePopover:n,popoverClass:i}){i&&this.isOpen()&&(this._windowRef.instance.popoverClass=i.currentValue),(t||e||n)&&this._isDisabled()&&this.close()}ngOnDestroy(){this.close(),this._unregisterListenersFn&&this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l),i.Nb(i.F),i.Nb(i.s),i.Nb(i.j),i.Nb(i.Q),i.Nb(G),i.Nb(i.A),i.Nb(o.c),i.Nb(i.h),i.Nb(i.g))},t.\u0275dir=i.Ib({type:t,selectors:[["","ngbPopover",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disablePopover:"disablePopover",popoverClass:"popoverClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbPopover:"ngbPopover",popoverTitle:"popoverTitle"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbPopover"],features:[i.zb]}),t})(),et=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({imports:[[o.b]]}),t})();new i.r("live announcer delay",{providedIn:"root",factory:function(){return 100}})},"3E0/":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("D0XW"),o=n("7o/Q"),s=n("WMd4");function r(t,e=i.a){var n;const o=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new a(o,e))}class a{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new c(t,this.delay,this.scheduler))}}class c extends o.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,i=t.scheduler,o=t.destination;for(;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(o);if(n.length>0){const e=Math.max(0,n[0].time-i.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(c.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new h(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(s.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(s.a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.time=t,this.notification=e}}},SUuR:function(t,e,n){"use strict";n.d(e,"a",function(){return f}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return u});var i=n("ofXK"),o=n("tyNb"),s=n("XNiG"),r=n("VRyK"),a=n("lJxs"),c=n("pLZG"),h=n("SxV6"),p=n("fXoL");const l=["*"];var u=function(t){return t[t.OFF=0]="OFF",t[t.ON=1]="ON",t[t.PAUSED=2]="PAUSED",t}({});let d=(()=>{class t{constructor(t){this.router=t,this.stepShow$=new s.a,this.stepHide$=new s.a,this.initialize$=new s.a,this.start$=new s.a,this.end$=new s.a,this.pause$=new s.a,this.resume$=new s.a,this.anchorRegister$=new s.a,this.anchorUnregister$=new s.a,this.events$=Object(r.a)(this.stepShow$.pipe(Object(a.a)(t=>({name:"stepShow",value:t}))),this.stepHide$.pipe(Object(a.a)(t=>({name:"stepHide",value:t}))),this.initialize$.pipe(Object(a.a)(t=>({name:"initialize",value:t}))),this.start$.pipe(Object(a.a)(t=>({name:"start",value:t}))),this.end$.pipe(Object(a.a)(t=>({name:"end",value:t}))),this.pause$.pipe(Object(a.a)(t=>({name:"pause",value:t}))),this.resume$.pipe(Object(a.a)(t=>({name:"resume",value:t}))),this.anchorRegister$.pipe(Object(a.a)(t=>({name:"anchorRegister",value:t}))),this.anchorUnregister$.pipe(Object(a.a)(t=>({name:"anchorUnregister",value:t})))),this.steps=[],this.anchors={},this.status=u.OFF,this.isHotKeysEnabled=!0}initialize(t,e){t&&t.length>0&&(this.status=u.OFF,this.steps=t.map(t=>Object.assign({},e,t)),this.initialize$.next(this.steps))}disableHotkeys(){this.isHotKeysEnabled=!1}enableHotkeys(){this.isHotKeysEnabled=!0}start(){this.startAt(0)}startAt(t){this.status=u.ON,this.goToStep(this.loadStep(t)),this.start$.next(),this.router.events.pipe(Object(c.a)(t=>t instanceof o.a),Object(h.a)()).subscribe(()=>{this.currentStep&&this.currentStep.hasOwnProperty("route")&&this.hideStep(this.currentStep)})}end(){this.status=u.OFF,this.hideStep(this.currentStep),this.currentStep=void 0,this.end$.next()}pause(){this.status=u.PAUSED,this.hideStep(this.currentStep),this.pause$.next()}resume(){this.status=u.ON,this.showStep(this.currentStep),this.resume$.next()}toggle(t){t?this.currentStep?this.pause():this.resume():this.currentStep?this.end():this.start()}next(){this.hasNext(this.currentStep)&&this.goToStep(this.loadStep(this.currentStep.nextStep||this.steps.indexOf(this.currentStep)+1))}hasNext(t){return t?void 0!==t.nextStep||this.steps.indexOf(t)<this.steps.length-1:(console.warn("Can't get next step. No currentStep."),!1)}prev(){this.hasPrev(this.currentStep)&&this.goToStep(this.loadStep(this.currentStep.prevStep||this.steps.indexOf(this.currentStep)-1))}hasPrev(t){return t?void 0!==t.prevStep||this.steps.indexOf(t)>0:(console.warn("Can't get previous step. No currentStep."),!1)}goto(t){this.goToStep(this.loadStep(t))}register(t,e){if(t){if(this.anchors[t])throw new Error("anchorId "+t+" already registered!");this.anchors[t]=e,this.anchorRegister$.next(t)}}unregister(t){t&&(delete this.anchors[t],this.anchorUnregister$.next(t))}getStatus(){return this.status}isHotkeysEnabled(){return this.isHotKeysEnabled}goToStep(t){if(!t)return console.warn("Can't go to non-existent step"),void this.end();let e=new Promise(t=>t(!0));void 0!==t.route&&"string"==typeof t.route?e=this.router.navigateByUrl(t.route):t.route&&Array.isArray(t.route)&&(e=this.router.navigate(t.route)),e.then(e=>{!1!==e&&setTimeout(()=>this.setCurrentStep(t))})}loadStep(t){return"number"==typeof t?this.steps[t]:this.steps.find(e=>e.stepId===t)}setCurrentStep(t){this.currentStep&&this.hideStep(this.currentStep),this.currentStep=t,this.showStep(this.currentStep),this.router.events.pipe(Object(c.a)(t=>t instanceof o.a),Object(h.a)()).subscribe(()=>{this.currentStep&&this.currentStep.hasOwnProperty("route")&&this.hideStep(this.currentStep)})}showStep(t){const e=this.anchors[t&&t.anchorId];if(!e)return console.warn("Can't attach to unregistered anchor with id "+t.anchorId),void this.end();e.showTourStep(t),this.stepShow$.next(t)}hideStep(t){const e=this.anchors[t&&t.anchorId];e&&(e.hideTourStep(),this.stepHide$.next(t))}}return t.\u0275fac=function(e){return new(e||t)(p.ac(o.b))},t.\u0275prov=p.Jb({token:t,factory:t.\u0275fac}),t})(),f=(()=>{class t{constructor(t){this.tourService=t}onEscapeKey(){this.tourService.getStatus()===u.ON&&this.tourService.isHotkeysEnabled()&&this.tourService.end()}onArrowRightKey(){this.tourService.getStatus()===u.ON&&this.tourService.hasNext(this.tourService.currentStep)&&this.tourService.isHotkeysEnabled()&&this.tourService.next()}onArrowLeftKey(){this.tourService.getStatus()===u.ON&&this.tourService.hasPrev(this.tourService.currentStep)&&this.tourService.isHotkeysEnabled()&&this.tourService.prev()}}return t.\u0275fac=function(e){return new(e||t)(p.Nb(d))},t.\u0275cmp=p.Hb({type:t,selectors:[["tour-hotkey-listener"]],hostBindings:function(t,e){1&t&&p.dc("keydown.Escape",function(){return e.onEscapeKey()},!1,p.vc)("keydown.ArrowRight",function(){return e.onArrowRightKey()},!1,p.vc)("keydown.ArrowLeft",function(){return e.onArrowLeftKey()},!1,p.vc)},ngContentSelectors:l,decls:1,vars:0,template:function(t,e){1&t&&(p.lc(),p.kc(0))},encapsulation:2}),t})(),b=(()=>{class t{static forRoot(){return{ngModule:t,providers:[d]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.Lb({type:t}),t.\u0275inj=p.Kb({imports:[[i.b,o.e]]}),t})()},cp0P:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("HDdC"),o=n("DH7j"),s=n("lJxs"),r=n("XoHu"),a=n("Cfvw");function c(...t){if(1===t.length){const e=t[0];if(Object(o.a)(e))return h(e,null);if(Object(r.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return h(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return h(t=1===t.length&&Object(o.a)(t[0])?t[0]:t,null).pipe(Object(s.a)(t=>e(...t)))}return h(t,null)}function h(t,e){return new i.a(n=>{const i=t.length;if(0===i)return void n.complete();const o=new Array(i);let s=0,r=0;for(let c=0;c<i;c++){const h=Object(a.a)(t[c]);let p=!1;n.add(h.subscribe({next:t=>{p||(p=!0,r++),o[c]=t},error:t=>n.error(t),complete:()=>{s++,s!==i&&p||(r===i&&n.next(e?e.reduce((t,e,n)=>(t[e]=o[n],t),{}):o),n.complete())}}))}})}}}]);